---
layout: post
title: 신입교육 회고록
categories: Living
excerpt_separator: "<!--more-->"
---

입사한지가 엊그제 같은데 벌써 2달이 지나 3월이 되었다. BaseCamp 라는 사내 9주 교육 과정을 거치면서 Dolfin이라는 그룹웨어 서비스를 5명의 TF와 함께 제작하였다. 이제 어느덧 9주차에 접어들었고 다음주면 실제 현업부서에 가서 일을 하게 될 것이다. 아직 한참이나 부족하고 가야할 일이 많이 있겠지만, BaseCamp를 통해서 나도 할 수 있다! 라는 자신감을 얻게 되었다.

9주동안 아주 많은것을 배웠다. 솔직히 말하면 너무 과식해서 소화가 잘 안된기분...? 이다. 그래서 이번에 내가 9주동안 무엇을 배웠고 어떤것을 느꼈는지 천천히 한번 생각해보겠다.

## Sprint 1,2

실제 사무실 자리는 부서배치를 받았을 때 나오고, 토스트존 같은곳에 컴퓨터를 놓고 2달간 베이스캠프를 진행할 줄 알았다. 하지만 1주차에 바로 내 자리를 받았다! 나만의 자리가 생기니 무언가 진짜 직장인이 된 기분!! 이였다. 여러가지 환경 설정을 끝내고 바로 기획에 들어갔다. 프로젝트 주제는 그룹웨어 메일 서비스를 제작하는것이였다. 기획을 하면서 느꼈던 점은, 생각보다 생각해야할 것이 엄청 많다는 점이였다. 어떤 서비스를 만들 것이고, 어떤 식으로 만들 것인지, 구현 가능할 것인지에대해 고민을 많이 해봤는데 처음으로 만들어보는 서비스이고 친숙하지 않다보니 얼마나 시간이 걸릴지, 과연 가능할 것인지에 대한 걱정이 많았다. 그만큼 많은 것을 팀원들과 대화를 하게 되었고, 팀원들의 좋은 아이디어를 많이 접할 수 있었다. 우리 서비스의 이름은 Dolfin으로 정하게 되었다. 뜻은 돌고래의 똑똑함과 Fast의 f를...딴 그런 뜻이다! 우리 서비스의 차별점은 태그 서비스이다. 메일에 사용자가 태그를 부여해서 쉽게 관리를 할 수 있게 기획하였다.
기획할때 가장 중요한 점은 아이디어가 떠오르면 바로 제시하고 그에대한 토론을 하는것인것 같다. 무슨 의견이든 이야기를 하다보면 새로운 아이디어가 떠오를때도 있고, 내 생각또한 정리가 되는 기분이다.

이렇게 기획을 통해 2주의 시간이 지났다.
기획 외에 교육을 많이 들었다. 정말 돈주고 배울 수 없는 값진 교육들이었다. 들었던 것들 잊지않게 잘 정리해서 나만의 것으로 만들 필요가 있을 것 같다.

## Sprint 3, 4

본격적으로 2주간 개발 일정이 나왔다. 기획했던 내용과 스펙을 토대로 하나하나 기능을 구현하기 시작하였다. 가장 막막했던 점은 다름아닌 스프링이였다. 당장 개발에 들어가야하는데 스프링이 무엇이며, 어떻게 이것을 이용하여 개발을 해야하는지? 가 가장 큰 문제였다. 지금와서 든 생각은, 좀더 스프링에 대한 기본적인 기능을 알아보고 개발에 들어갔었으면 지금보다 더 좋은 코드가 만들어지지 않았을까 하는 생각이 든다.
하지만 역시 개발은 내 적성에 맞았다. 분명 쉽지않은 작업량과 난이도였지만, 개발하는 즐거움에 빠져서 시간이 가는줄도 모르고 개발을 진행한것 같다.

나는 웹서버의 로그인, 회원가입, 그리고 Api 서버를 맡아 개발하였다. 개발하면서 가장 어려웠다고 생각되는 부분은... 프론트 부분의 웹페이지 화면을 띄우는 부분이였던것 같다. 로그인, 회원가입을 비동기로 구현해야 됬었는데, Jquery를 이용하여 구현을 하는게 모양도 이상하고 쉽지 않았다.

안될것 같았지만 시간내어 열심히 하다보니 어느새 진짜 메일 서비스가 만들어졌다. 물론 급한 마음에 코드는 정말 엉망이였지만, 그래도 돌아가는 서비스를 만들고 나니 많이 뿌듯하였다.

아 그리고 다른 TF의 View 를 보면 정말 감탄이 나온다... 어떻게 저런 화면을 만들었는지...

## Sprint 4, 5 

#### 리팩도링과 테스트코드 제작!!!
리팩토링 작업량이 개발 량보다 많을거라고는 상상도 못하였다. 그냥 좀 고치면 되지! 라고 생각하였는데, 그냥 내 코드 전체를 다 뒤집어 엎어야됬다. C코드 습관들을 고치고, 객체지향적 설계를 처음부터 다시 해보았다.

신기했던 점은, 자바 프로젝트는 한 프로젝트에 어마어마하게 많은 자바 파일(클래스) 가 생긴다는 점이다. 정말 이거까지 객체화 시켜야되나? 라고 생각되는 것도 다 객채화 작업을 진행하였다. 가장 신기했던 점은, controller에서 View와 Model과 통신하기 위해 직접 json parser와 생성factory를 만들었었다. 하지만 스프링에서는 객체로 받고, 객체로 넘기면 자동으로 json을 객체로, 객체를 json으로 바꿔준다는것!! json을 사용하기위해 삽질했던 과정을 생각하면 정말 눈물이 날뻔했다.
그리고 객체지향적 설계는 토비의 스프링 책과 멘토님들의 조언, 그리고 정명주 책임님의 객체지향적 설계 방법 글을 보고 많은 도움을 얻게 되었다.

그리고 테스트 코드를 작성하게 되었다. 테스트 코드를 작성할때마다 이건 배보다 배꼽이 더 큰것같아!! 라는 생각이 많이 들었었다. 하지만 잘 짜여진 테스트 코드라면 어떠한 리팩토링도 두렵지 않을 것 같은 기분이 들었다. 꼭 테스트 코드를 작성하는 현업 부서로 갔으면 좋겠다.

#### 웹서버 이중화(스케일 아웃)

내가 이중 서버를 만들게 되다니!! 이것은 정말 현업 아니면 할 수 없는 진귀한 경험을 미리 하게 되었다. 이중화를 하게 되면서 가장 고려를 많이 한 부분은 세션 관리인것 같다. 1번 서버에 있다가 2번 서버로 옮겨지더라도 동일한 세션을 유지하여 계속 동작이 이어져야 되었던것! 따라서 우리는 redis에 세션을 넣어 관리하고, DB에도 세션을 관리할 수 있는 기능을 구현하였다. 지금은 빌드 시 세션을 redis로 매핑할지 DB로 매핑할 지 결정하지만, real time에서 redis를 우선처리 하되 redis가 죽을 시 DB로 redirect 하는 기능을 추가하면 더욱 안정화된 서비스를 할 수 있을것 같다.

# Sprint 6,7,8

#### DB 이중화

DB 이중화는 서버 이중화보다 훨씬 난이도가 높았다. 웹서버는 스케일 아웃 시 새롭게 기능을 구현해야 하는 부분은 많이 없었다. 하지만 DB는 사용자마다 어떠한 DB에 매핑을 할 것인지에 대해 많은 고민을 하게 되었다. 우리는 고유값인 ID 샤딩을 통해 2개의 웹서버에 수평 분할하는 방법을 사용하였다. 

아쉬운 점은 서버가 2대라는 가정 하에 스케일 아웃을 한 것이다. AWS같은 경우에는 사용량에 따라 자동으로 스케일 아웃을 해주는것으로 알고 있다. 우리도 AWS와 같이 사용량에 따른 자동 스케일 아웃이 가능한 형태로 만들고 싶었으나, 시간적 여유가 없어서 해당 기능은 구현을 하지 못한게 아쉽다.


#### 다른 서비스와의 연동

이 과제는 프로젝트의 꽃이라고 볼 수 있을것 같다. 다른 서비스와 메일 주고받기가 가능해야 하고, 내 서비스 로그인 화면에서 다른 서비스로 로그인이 가능하게 만들어야 했다. 표준을 정하는 것은 생각보다 쉬우면서도 많은 작업이 필요했다. 역시 이번에도 느낀것은 많은 대화를 통해야만 모두가 만족할 순 없어도 대부분이 만족하는 결과를 낼 수 있다는 점이였다. 또 여기서부터 문제점이 다른 서비스와 연동작업을 하다보니 내 서비스 내의 테스팅을 하기가 쉽지 않다는 점이였다. 또한 로컬에서의 빌드환경과 리얼 서버에서의 빌드환경이 다른데, 이걸 매번 직접 변경해줘야하는 번거로움이 있었다. 프로파일을 따로 만들어서 OS에 따른 자동화 환경을 만들려 했는데, 쉽지 않아서 중간에 포기하게 되었다. 포기하는건 싫은데 기능 구현해야 할것이 많아서 어쩔수 없이 포기하게 되었다. 나중에 시간나면 다시 꼭 해보고 싶다.


아직 수료까지 1주일이란 짧지만 긴 시간이 남았다.
프로젝트를 하고 느낀점은 수료식이 끝난 주말에 적고 이 회고록을 마무리하도록 하겠다!

- - -
## 서비스 출시 이후

3월 8일에 Dolfin 서비스를 출시하고 3/9일에 시연을 하였다. 출시 도중에 Datasource 관련 오류가 발생해서 약간의 애를먹긴 했지만 시연은 잘 하였다!

그리고 3/9일에 나의 첫 부서로 배치를 받게 되었다. 이제 여기서 내가 신입기술교육동안 배운 내용을 열심히 적용하면서 새로운 출발을 하게 될 것이다. 다음주가 기대된다.