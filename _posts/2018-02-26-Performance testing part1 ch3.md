---
layout: post
title: "[part 1 ch 3] Introduction to Performance Testing"
categories:
    - Performance testing
excerpt_separator: "<!--more-->"
---

## Chapter3 - Risks Addressed Through Performance Testing

챕터 3장은 성능 테스트를 진행하면서 중요하게 고려될 수 있는  프로그램의 속도, 확장성, 안정성과 같은 요소를 파악하는 장이다. 성능 테스트를 하기위한 테스트 종류는 여러가지가 있지만, 다음과 같은 종류의 테스트들이 대표적이다.
- Capacity
- Component
- Endurance
- Investigation
- Load
- Smoke
- Spike
- Stress
- Unit
- Validation

아래에서는 위에서 언급한 속도, 확장성, 안정성 리스크를 좀더 자세히 알아보겠다.

### Speed-Related Risks
프로그램의 속도는 사용자의 만족도 측면에서도 중요하지만 시스템 관리 차원에서도 중요한 문제이다. 프로그램의 속도가 느려질 시 시스템 오류가 발생할 수 있기 때문이다. 따라서 우리는 테스트를 진행할 때 다음과 같은 질문을 할 수 있다.

- 응용 프로그램이 최종 사용자를 만족시킬만큼 충분히 빠른가?
- 웹 서비스가 예상되는 최대 응답 시간 내에 응답하나? 오류가 발생했나?

위와 같은(위의 사례는 큰 범주) 테스트에 다음과 같은 대응을 할 수 있다.

- 성능 요구사항은 목표치를 만족하는지 확인
- 속도를 이전 버전의 프로그램이나 경쟁중인 프로그램과 비교를 한다.
- 정상 및 예상 최대로드 상황에서의 부하 테스트를 설계한다.
- 성능 테스트에 시간이 중요한 트랜잭션을 포함시킨다
와 같은 내용들이 포함될 수 있다.


### Scalability-Related Risks
확장성 리스크는 얼마나 많은 사용자를 수용할 수 있는지 여부 뿐 아니라 얼마나 많은 응용 프로그램이 처리될 수 있는지에 대한 판단도 포함이 된다. 성능 테스트를 통해 확장성에 던질 수 있는 질문은 다음과 같다.

- 프로그램이 사용자들에게 일관되고 수용 가능한 응답 시간을 제공할 수 있는가?
- 응용 프로그램은 수명 동안 수집되는 모든 데이터를 저장할 수 있는가?
- 응용 프로그램이 최대 용량에 근접할 때 경고 신호를 내주는가?
- 높은 로드로도 보안성이 유지되는가?
- 높은 로드에서도 기능이 손상되지 않는가?
와 같은 질문을 던질 수 있다.

위에 대한 대응 테스트는 다음과 같은 경우가 있을 수 있다.
- 다양한 부하에서 측정된 속도를 비교한다.
- 정상 및 최대로드에서 테스트를 진행한다.
- 확장성에 대해 한계가 보이면 로드를 점차적으로 줄이고 재검사하여 응용 프로그램이 대책을 적용할 수 있는 지표를 생성하도록 한다.

### Stability-Related Risks
안정성은 high-load, endurance, and stress tests 와 같은데서 문제가 발생할것이라는 것이 일반적인 생각일지도 모른다. 하지만 오히려 위에 테스트에서 안정성 문제가 해결되고, 성능 부분에서 안정성이 문제가 되는 경우가 종종 있다. 성능 테스트에서 안정성에 대해 던질 수 있는 질문들은 다음과 같다.

- 데이터 손상, 속도 저하 또는 재부팅해야하는 서버없이 오랜 시간 동안 응용 프로그램을 실행이 가능한가?
- 응용 프로그램이 예기치 않게 다운 된 경우 부분적으로 완료된 트랜잭션은 어떻게 처리되나?
- 예약 된 또는 예정되지 않은 다운 타임 이후에 응용 프로그램이 다시 온라인 상태로 전환되면 사용자는 이전에 하던 것을 이어서 할 수 있는가?
- 오류 조합이나 반복되는 기능 오류로 인해 시스템이 중단 될 수 있는가?
- 시스템 전체에 부작용을 일으키는 트랜잭션이 있는가?
- 분산 서버의 로드 밸런서가 한쪽 서버가 죽을 시 바로 이어서 처리될 수 있는가?
- 업데이트시 시스템을 죽이지 않고 진행하는것이 가능한가?

위에 대한 대응 테스트는 다음과 같다.
- 실질적인 endurance test를 실행한다.
- 핵심 시나리오로 스트레스 테스트를 수행한다. 이는 네트워크, 디스크, 프로세서, 메모리와 같은 핵심 지표와 비즈니스적 지표를 동시에 포함한다.
- 테스트 중에는 서버를 오프라인 상태로 만들고 시스템의 기능 성능 및 데이터 무결성 동작을 관찰한다.
- 성능 테스트 중에 시스템에 패치를 적용한다.